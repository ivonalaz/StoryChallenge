{"ast":null,"code":"import _asyncToGenerator from \"C:/git/ivonalaz/Stories/Stories/Stories/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { HttpClientTestingModule, HttpTestingController } from '@angular/common/http/testing';\nimport { TestBed } from '@angular/core/testing';\nimport { FetchStoriesComponent } from './fetch-stories.component';\ndescribe('FetchStoriesComponent', () => {\n  let component;\n  let fixture;\n  let httpTestingController;\n  beforeEach( /*#__PURE__*/_asyncToGenerator(function* () {\n    yield TestBed.configureTestingModule({\n      imports: [HttpClientTestingModule],\n      declarations: [FetchStoriesComponent],\n      providers: [{\n        provide: 'BASE_URL',\n        useValue: 'http://localhost:3000/'\n      }]\n    }).compileComponents();\n  }));\n  beforeEach(() => {\n    fixture = TestBed.createComponent(FetchStoriesComponent);\n    component = fixture.componentInstance;\n    httpTestingController = TestBed.inject(HttpTestingController);\n  });\n  afterEach(() => {\n    httpTestingController.verify();\n  });\n  it('should create the component', () => {\n    expect(component).toBeTruthy();\n  });\n  it('should fetch stories from the API', () => {\n    const mockStories = [{\n      title: 'Story 1',\n      url: 'https://example.com/story1'\n    }, {\n      title: 'Story 2',\n      url: 'https://example.com/story2'\n    }];\n    component.ngOnInit();\n    const req = httpTestingController.expectOne('http://localhost:3000/stories');\n    expect(req.request.method).toEqual('GET');\n    req.flush(mockStories);\n    expect(component.stories).toEqual(mockStories);\n  });\n});","map":{"version":3,"mappings":";AAAA,SAASA,uBAAT,EAAkCC,qBAAlC,QAA+D,8BAA/D;AACA,SAA2BC,OAA3B,QAA0C,uBAA1C;AACA,SAASC,qBAAT,QAAsC,2BAAtC;AAGAC,QAAQ,CAAC,uBAAD,EAA0B,MAAK;EACrC,IAAIC,SAAJ;EACA,IAAIC,OAAJ;EACA,IAAIC,qBAAJ;EAEAC,UAAU,iCAAC,aAAW;IACpB,MAAMN,OAAO,CAACO,sBAAR,CAA+B;MACnCC,OAAO,EAAE,CAACV,uBAAD,CAD0B;MAEnCW,YAAY,EAAE,CAACR,qBAAD,CAFqB;MAGnCS,SAAS,EAAE,CAAC;QAAEC,OAAO,EAAE,UAAX;QAAuBC,QAAQ,EAAE;MAAjC,CAAD;IAHwB,CAA/B,EAKHC,iBALG,EAAN;EAMD,CAPS,EAAV;EASAP,UAAU,CAAC,MAAK;IACdF,OAAO,GAAGJ,OAAO,CAACc,eAAR,CAAwBb,qBAAxB,CAAV;IACAE,SAAS,GAAGC,OAAO,CAACW,iBAApB;IACAV,qBAAqB,GAAGL,OAAO,CAACgB,MAAR,CAAejB,qBAAf,CAAxB;EACD,CAJS,CAAV;EAMAkB,SAAS,CAAC,MAAK;IACbZ,qBAAqB,CAACa,MAAtB;EACD,CAFQ,CAAT;EAIAC,EAAE,CAAC,6BAAD,EAAgC,MAAK;IACrCC,MAAM,CAACjB,SAAD,CAAN,CAAkBkB,UAAlB;EACD,CAFC,CAAF;EAIAF,EAAE,CAAC,mCAAD,EAAsC,MAAK;IAC3C,MAAMG,WAAW,GAAY,CAC3B;MAAEC,KAAK,EAAE,SAAT;MAAoBC,GAAG,EAAE;IAAzB,CAD2B,EAE3B;MAAED,KAAK,EAAE,SAAT;MAAoBC,GAAG,EAAE;IAAzB,CAF2B,CAA7B;IAKArB,SAAS,CAACsB,QAAV;IAEA,MAAMC,GAAG,GAAGrB,qBAAqB,CAACsB,SAAtB,CAAgC,+BAAhC,CAAZ;IACAP,MAAM,CAACM,GAAG,CAACE,OAAJ,CAAYC,MAAb,CAAN,CAA2BC,OAA3B,CAAmC,KAAnC;IAEAJ,GAAG,CAACK,KAAJ,CAAUT,WAAV;IAEAF,MAAM,CAACjB,SAAS,CAAC6B,OAAX,CAAN,CAA0BF,OAA1B,CAAkCR,WAAlC;EACD,CAdC,CAAF;AAeD,CA3CO,CAAR","names":["HttpClientTestingModule","HttpTestingController","TestBed","FetchStoriesComponent","describe","component","fixture","httpTestingController","beforeEach","configureTestingModule","imports","declarations","providers","provide","useValue","compileComponents","createComponent","componentInstance","inject","afterEach","verify","it","expect","toBeTruthy","mockStories","title","url","ngOnInit","req","expectOne","request","method","toEqual","flush","stories"],"sourceRoot":"","sources":["C:\\git\\ivonalaz\\Stories\\Stories\\Stories\\ClientApp\\src\\app\\fetch-stories\\fetch-stories-component.spec.ts"],"sourcesContent":["import { HttpClientTestingModule, HttpTestingController } from '@angular/common/http/testing';\r\nimport { ComponentFixture, TestBed } from '@angular/core/testing';\r\nimport { FetchStoriesComponent } from './fetch-stories.component'\r\nimport { Story } from './story';\r\n\r\ndescribe('FetchStoriesComponent', () => {\r\n  let component: FetchStoriesComponent;\r\n  let fixture: ComponentFixture<FetchStoriesComponent>;\r\n  let httpTestingController: HttpTestingController;\r\n\r\n  beforeEach(async () => {\r\n    await TestBed.configureTestingModule({\r\n      imports: [HttpClientTestingModule],\r\n      declarations: [FetchStoriesComponent],\r\n      providers: [{ provide: 'BASE_URL', useValue: 'http://localhost:3000/' }]\r\n    })\r\n      .compileComponents();\r\n  });\r\n\r\n  beforeEach(() => {\r\n    fixture = TestBed.createComponent(FetchStoriesComponent);\r\n    component = fixture.componentInstance;\r\n    httpTestingController = TestBed.inject(HttpTestingController);\r\n  });\r\n\r\n  afterEach(() => {\r\n    httpTestingController.verify();\r\n  });\r\n\r\n  it('should create the component', () => {\r\n    expect(component).toBeTruthy();\r\n  });\r\n\r\n  it('should fetch stories from the API', () => {\r\n    const mockStories: Story[] = [\r\n      { title: 'Story 1', url: 'https://example.com/story1' },\r\n      { title: 'Story 2', url: 'https://example.com/story2' }\r\n    ];\r\n\r\n    component.ngOnInit();\r\n\r\n    const req = httpTestingController.expectOne('http://localhost:3000/stories');\r\n    expect(req.request.method).toEqual('GET');\r\n\r\n    req.flush(mockStories);\r\n\r\n    expect(component.stories).toEqual(mockStories);\r\n  });\r\n});\r\n"]},"metadata":{},"sourceType":"module"}